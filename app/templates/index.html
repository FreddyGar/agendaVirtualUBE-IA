<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sistema de Agendamiento Académico</title>
  

  <!-- Bootstrap y FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Tus estilos personalizados -->
  <link rel="stylesheet" href="{{ url_for('static', filename='Styles/styles.css') }}">

</head>
<body class="app">
  

  <!-- Botón para móviles -->
  <button class="toggle-sidebar-btn btn btn-primary d-md-none" id="toggleSidebar">☰</button>

  <div class="d-flex">
    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar">
      <ul class="nav flex-column list-unstyled h-100">

        <li class="nav-item">
          <a href="/inicio" class="nav-link" data-modulo="inicio"
            onclick="event.preventDefault(); setActiveMenuItem(this); cargarModulo('/fragment/inicio', '/static/Scripts/inicio.js', () => { 
              if (typeof initCalendar === 'function') {
                initCalendar();
                actualizarEventosEnCalendario();
              }
            }, '/inicio');">
            <i class="bi bi-house-door-fill"></i>
            <span class="link-text">Inicio</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="/buzon" class="nav-link" data-modulo="buzon"
            onclick="event.preventDefault(); setActiveMenuItem(this); cargarModulo('/fragment/buzon', '/static/Scripts/buzon.js', null, '/buzon');">
            <i class="bi bi-inbox-fill"></i>
            <span class="link-text">Buzón</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="/reportes" class="nav-link" data-modulo="reportes"
            onclick="event.preventDefault(); setActiveMenuItem(this); cargarModulo('/fragment/reportes', '/static/Scripts/reportes.js', () => { 
              if (typeof cargarEventos === 'function') cargarEventos();
            }, '/reportes');">
            <i class="bi bi-bar-chart-line-fill"></i>
            <span class="link-text">Reportes</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="/parametros" class="nav-link" data-modulo="parametros"
            onclick="event.preventDefault(); setActiveMenuItem(this); cargarModulo('/fragment/parametros', '/static/Scripts/parametros.js', null, '/parametros');">
            <i class="bi bi-gear-fill"></i>
            <span class="link-text">Parámetros</span>
          </a>
        </li>

        <li class="nav-item mt-auto logout">
          <a href="#" class="nav-link text-danger" onclick="logout();">
            <i class="bi bi-box-arrow-right"></i>
            <span class="link-text">Cerrar Sesión</span>
          </a>
        </li>

      </ul>
    </nav>

    <!-- Contenido principal -->
    <div class="main-content" id="contenido">
      <!-- Aquí se cargarán las vistas dinámicas -->
    </div>
  </div>

  <!-- JS Librerías -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/locales-all.js"></script>

  <!-- Script principal -->
  <script src="{{ url_for('static', filename='Scripts/index.js') }}"></script>

</body>
</html>
